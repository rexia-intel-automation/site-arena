/* ===================================
   CORREÇÕES DE COMPATIBILIDADE
   Chrome vs Edge - Arena BRB
   =================================== */

/* ===================================
   1. BACKDROP-FILTER - CRÍTICO
   Adicionar vendor prefixes e fallback
   =================================== */

/* Theme Toggle Flutuante */
.theme-toggle-floating {
    background: var(--glass);
    -webkit-backdrop-filter: blur(20px);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
}

/* Fallback para navegadores sem suporte */
@supports not (backdrop-filter: blur(20px)) {
    .theme-toggle-floating {
        background: rgba(4, 8, 15, 0.95) !important;
    }

    nav {
        background: rgba(4, 8, 15, 0.95) !important;
    }

    .btn-secondary {
        background: rgba(255, 255, 255, 0.08) !important;
    }

    .stadium-card::before {
        background: rgba(255, 255, 255, 0.06) !important;
    }

    .event-card,
    .feature-card {
        background: rgba(255, 255, 255, 0.06) !important;
    }
}

/* Navigation */
nav {
    background: rgba(4, 8, 15, 0.85);
    -webkit-backdrop-filter: blur(20px);
    backdrop-filter: blur(20px);
}

/* Buttons */
.btn-secondary {
    background: var(--glass);
    -webkit-backdrop-filter: blur(20px);
    backdrop-filter: blur(20px);
}

/* Stadium Card */
.stadium-card::before {
    background: var(--glass);
    -webkit-backdrop-filter: blur(40px);
    backdrop-filter: blur(40px);
}

/* Event Card */
.event-card {
    background: var(--glass);
    -webkit-backdrop-filter: blur(40px);
    backdrop-filter: blur(40px);
}

/* Feature Card */
.feature-card {
    background: var(--glass);
    -webkit-backdrop-filter: blur(40px);
    backdrop-filter: blur(40px);
}

/* Float Cards */
.float-card {
    background: var(--glass);
    -webkit-backdrop-filter: blur(30px);
    backdrop-filter: blur(30px);
}

/* Hero Badge */
.hero-badge {
    background: var(--glass);
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
}

/* ===================================
   2. BACKGROUND-CLIP: TEXT - CRÍTICO
   Adicionar todos os vendor prefixes
   =================================== */

.hero h1 .gradient {
    background: linear-gradient(135deg, var(--brb-blue), var(--cyan));
    -webkit-background-clip: text;
    -moz-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    -moz-text-fill-color: transparent;
}

/* Fallback para navegadores sem suporte */
@supports not (background-clip: text) {
    .hero h1 .gradient {
        color: var(--cyan);
        background: transparent;
    }
}

/* ===================================
   3. VIEWPORT UNITS - MÉDIO
   Corrigir overflow horizontal
   =================================== */

body {
    /* Remover padding lateral que causa overflow */
    padding-right: 0;
    padding-left: 0;

    /* Garantir que não haja overflow horizontal */
    overflow-x: hidden;
    max-width: 100vw;

    /* Usar CSS moderno para padding interno */
    box-sizing: border-box;
}

/* Container wrapper para controle de largura */
.container {
    max-width: 1920px;
    margin: 0 auto;
    padding: 0 2%;
    box-sizing: border-box;
}

/* ===================================
   4. FLEXBOX GAP - MÉDIO
   Adicionar fallback para navegadores antigos
   =================================== */

/* Navigation Links - com fallback */
.nav-links {
    display: flex;
    margin: 0;
    padding: 0;
}

/* Fallback sem gap */
.nav-links li:not(:last-child) {
    margin-right: 36px;
}

/* Modern approach com gap */
@supports (gap: 1px) {
    .nav-links {
        gap: 36px;
    }

    .nav-links li:not(:last-child) {
        margin-right: 0;
    }
}

/* Nav center gap */
nav {
    display: flex;
    justify-content: center;
    align-items: center;
}

/* Fallback para gap do nav */
nav > *:not(:last-child) {
    margin-right: 80px;
}

@supports (gap: 1px) {
    nav {
        gap: 80px;
    }

    nav > *:not(:last-child) {
        margin-right: 0;
    }
}

/* Hero buttons */
.hero-btns {
    display: flex;
    flex-wrap: wrap;
}

.hero-btns a:not(:last-child) {
    margin-right: 16px;
    margin-bottom: 16px;
}

@supports (gap: 1px) {
    .hero-btns {
        gap: 16px;
    }

    .hero-btns a:not(:last-child) {
        margin-right: 0;
        margin-bottom: 0;
    }
}

/* ===================================
   5. OBJECT-FIT - MÉDIO
   Adicionar fallback para Edge Legacy
   =================================== */

.stadium-img img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: inherit;
    display: block;

    /* Polyfill para IE/Edge Legacy */
    font-family: 'object-fit: cover;';
}

.tour-image {
    width: 100%;
    height: auto;
    max-height: 500px;
    border-radius: 18px;
    display: block;
    object-fit: contain;
    object-position: center;

    /* Polyfill para IE/Edge Legacy */
    font-family: 'object-fit: contain;';
}

/* ===================================
   6. SCROLL-BEHAVIOR - BAIXO
   Remover do CSS e deixar apenas JS
   =================================== */

/* COMENTAR ou REMOVER esta linha do CSS original */
/* html {
    scroll-behavior: smooth;
} */

/* Deixar apenas a implementação JavaScript
   para melhor controle e compatibilidade */

/* ===================================
   7. CSS GRID AUTO-FIT - MÉDIO
   Testar alternativa com auto-fill
   =================================== */

/* Opção 1: Manter auto-fit (original) */
.events-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 350px));
    gap: 20px;
    position: relative;
}

/* Opção 2: Usar auto-fill (pode ser mais consistente) */
/* .events-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 20px;
    position: relative;
} */

/* Opção 3: Breakpoints específicos (mais seguro) */
/* .events-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 20px;
}

@media (min-width: 640px) {
    .events-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (min-width: 1024px) {
    .events-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

@media (min-width: 1440px) {
    .events-grid {
        grid-template-columns: repeat(4, 1fr);
    }
} */

/* ===================================
   8. TRANSFORM 3D - Garantir aceleração
   =================================== */

.stadium-card {
    /* Forçar aceleração GPU em todos os navegadores */
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    will-change: transform;

    /* Prevenir flickering */
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-perspective: 1000;
    perspective: 1000;
}

/* ===================================
   9. LIGHT MODE - Vendor prefixes
   =================================== */

body.light-mode .theme-toggle-floating {
    background: rgba(255, 255, 255, 0.9);
    -webkit-backdrop-filter: blur(20px);
    backdrop-filter: blur(20px);
}

body.light-mode nav {
    background: rgba(248, 250, 252, 0.85);
    -webkit-backdrop-filter: blur(20px);
    backdrop-filter: blur(20px);
}

body.light-mode .btn-secondary {
    background: rgba(255, 255, 255, 0.7);
    -webkit-backdrop-filter: blur(20px);
    backdrop-filter: blur(20px);
}

body.light-mode .stadium-card::before {
    background: rgba(255, 255, 255, 0.65);
    -webkit-backdrop-filter: blur(40px);
    backdrop-filter: blur(40px);
}

body.light-mode .event-card {
    background: rgba(255, 255, 255, 0.7);
    -webkit-backdrop-filter: blur(40px);
    backdrop-filter: blur(40px);
}

body.light-mode .feature-card {
    background: rgba(255, 255, 255, 0.7);
    -webkit-backdrop-filter: blur(40px);
    backdrop-filter: blur(40px);
}

body.light-mode .float-card {
    background: rgba(255, 255, 255, 0.7);
    -webkit-backdrop-filter: blur(30px);
    backdrop-filter: blur(30px);
}

/* ===================================
   10. WEBKIT SPECIFIC FIXES
   =================================== */

/* Remover highlight azul no tap (mobile) */
* {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
}

/* Melhorar renderização de fontes */
body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
}

/* Prevenir text size adjust no mobile */
body {
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
    text-size-adjust: 100%;
}

/* ===================================
   11. FLEXBOX ALIGNMENT FIXES
   =================================== */

/* Garantir alinhamento consistente em todos os navegadores */
.nav-links {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;

    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
}

nav {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;

    -webkit-box-pack: center;
    -ms-flex-pack: center;
    justify-content: center;

    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
}

/* ===================================
   12. POSITION STICKY FALLBACK
   =================================== */

nav {
    position: -webkit-sticky;
    position: sticky;
    top: 0;
}

/* Fallback para navegadores sem suporte a sticky */
@supports not (position: sticky) {
    nav {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
    }
}
